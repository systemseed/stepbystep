import React from "react";
import ReactDOM from "react-dom";

import Application from "@anu/Application";
import StorylinesPage from "@anu/pages/storylines";
import { transformStorylinesPage } from "@anu/utilities/transform.storylines";

document.addEventListener("DOMContentLoaded", () => {
  // Get courses page element and its content generated by Drupal.
  const element = document.getElementById("anu-application");
  const data = JSON.parse(element.dataset.application);

  ReactDOM.render(
    <Application>
      <StorylinesPage data={transformStorylinesPage(data)} />
    </Application>,
    element
  );
});
